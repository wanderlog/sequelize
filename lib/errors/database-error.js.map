{
  "version": 3,
  "sources": ["../../src/errors/database-error.ts"],
  "sourcesContent": ["import type { CommonErrorProperties, SequelizeErrorOptions } from './base-error';\nimport BaseError from './base-error';\n\nexport interface DatabaseErrorParent extends Error, Pick<CommonErrorProperties, 'sql'> {\n  /** The parameters for the sql that triggered the error */\n  readonly parameters?: object;\n}\n\nexport interface DatabaseErrorSubclassOptions extends SequelizeErrorOptions {\n  cause?: DatabaseErrorParent;\n\n  /**\n   * @deprecated use {@link DatabaseErrorSubclassOptions.cause}\n   */\n  parent?: DatabaseErrorParent;\n  message?: string;\n}\n\n/**\n * A base class for all database related errors.\n */\nclass DatabaseError\n  extends BaseError\n  implements DatabaseErrorParent, CommonErrorProperties {\n  sql: string;\n  parameters: object;\n\n  declare cause: DatabaseErrorParent;\n\n  /**\n   * @param parent The database specific error which triggered this one\n   * @param options\n   */\n  constructor(parent: DatabaseErrorParent, options: SequelizeErrorOptions = {}) {\n    super(parent.message, { cause: parent });\n    this.name = 'SequelizeDatabaseError';\n\n    this.sql = parent.sql;\n    this.parameters = parent.parameters ?? {};\n\n    if (options.stack) {\n      this.stack = options.stack;\n    }\n  }\n}\n\nexport default DatabaseError;\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,wBAAsB;AAoBtB,MAAM,sBACI,0BAC8C;AAAA,EACtD;AAAA,EACA;AAAA,EAQA,YAAY,QAA6B,UAAiC,CAAC,GAAG;AAC5E,UAAM,OAAO,SAAS,EAAE,OAAO,OAAO,CAAC;AACvC,SAAK,OAAO;AAEZ,SAAK,MAAM,OAAO;AAClB,SAAK,aAAa,OAAO,cAAc,CAAC;AAExC,QAAI,QAAQ,OAAO;AACjB,WAAK,QAAQ,QAAQ;AAAA,IACvB;AAAA,EACF;AACF;AAEA,IAAO,yBAAQ;",
  "names": []
}
